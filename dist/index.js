"use strict";var e=require("react");module.exports=function(t,a,n){void 0===n&&(n={});var i=e.useState(!1),r=i[0],s=i[1],o=e.useState(a),u=o[0],d=o[1];e.useEffect((function(){var e=function(e,i){if(!e||e.detail.key===t){if(i){var r=new URL(window.location.href),o=new URLSearchParams(r.search).get(t);return o&&n.isValueObj?o=JSON.parse(o):o&&n.parseFn?o=n.parseFn(o):o?isNaN(o)||(o=Number(o)):o=a,d(o),void s(!0)}e.detail.value!==u&&d(e.detail.value)}};return e({detail:{key:t}},!0),window.addEventListener("popstate",e),function(){window.removeEventListener("popstate",e)}}),[]);return[u,function(e){var a=n.isValueObj?JSON.stringify(e):e,i=new URL(window.location.href),r=new URLSearchParams(i.search);r.set(t,a),window.history.pushState("","","?"+r.toString()),window.dispatchEvent(new CustomEvent("popstate",{detail:{key:t,value:e}})),d(e)},r]};
//# sourceMappingURL=index.js.map
